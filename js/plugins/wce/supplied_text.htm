<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>{#wce.supplied_source_title}</title>
<script type="text/javascript" src="../../tiny_mce_popup.js"></script>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="js/wce.js"></script>
</head>

<body id="table" style="display: none" onload="init();">
	<form onsubmit="return false;" action="#" name="supinfo">
		<fieldset>
			<legend>{#wce.supplied_source_data}</legend>
			<table border="0" cellpadding="4" cellspacing="0" width="100%">
				<tr>
					<td><label id="supplied_source_label" for="supplied_source">{#wce.supplied_source}</label>
					</td>
					<td><select id="supplied_source" name="supplied_source"
						onclick="checkstatus_supplied_source()">
							<option value="na27">{#wce.na27}</option>
							<option value="transcriber">{#wce.transcriber}</option>
							<option value="tr">{#wce.TR}</option>
							<option value="othersupsource">{#wce.other}</option>
					</select></td>
					<td><input id="supplied_source_other"
						name="supplied_source_other" type="text" value="" size="30"
						maxlength="" class="required number min1 mceFocus" /></td>
				</tr>
				<tr>
					<td><label id="supplied_reason_label" for="supplied_reason">{#wce.reason}</label>
					</td>
					<td><select id="supplied_reason" name="supplied_reason"
						onclick="checkstatus_supplied_reason()">
							<option value=""></option>
							<option value="sup_damage">{#wce.damage}</option>
							<option value="sup_hole">{#wce.hole}</option>
							<option value="sup_erasure">{#wce.erasure}</option>
							<option value="sup_otherreason">{#wce.other}</option>
					</select>
					</td>
					<td><input id="sup_otherdamage" name="sup_otherdamage"
						type="text" value="" size="30" maxlength=""
						class="required number min1 mceFocus" />
					</td>
				</tr>

				<tr>
					<td><label id="supplied_agent_label" for="supplied_agent">{#wce.agent}</label>
					</td>
					<td><select id="supplied_agent" name="supplied_agent"
						onclick="checkstatus_supplied_agent()">
							<option value=""></option>
							<option value="sup_water">{#wce.agent_water}</option>
							<option value="sup_fire">{#wce.agent_fire}</option>
							<option value="sup_otheragent">{#wce.other}</option>
					</select>
					</td>
					<td><input id="sup_agent_other" name="sup_agent_other"
						type="text" value="" size="30" maxlength=""
						class="required number min1 mceFocus" />
					</td>
				</tr>

			</table>
		</fieldset>
		<div class="mceActionPanel">
			<input type="button" id="insert" name="insert" value="{#insert}"
				onclick="writeWceNodeInfo();" /> <input type="button"
				id="cancel" name="cancel" value="{#cancel}"
				onclick="tinyMCEPopup.close();" />
		</div>
	</form>
</body>
<script type="text/javascript">
	function init() {
		wceInfoInit('supplied');
		readWceNodeInfo();
		setstatus_supplied_source();
	}
	
	function checkstatus_supplied_source() {
		if (document.supinfo.supplied_source.options[3].selected == true) {
			document.supinfo.supplied_source_other.disabled = false;
			document.getElementById('supplied_source_other').style.backgroundColor = "white";
		} else {
			document.supinfo.supplied_source_other.disabled = true;
			document.getElementById('supplied_source_other').style.backgroundColor = "#CCCCCC";
		}
	}

	function checkstatus_supplied_reason() {
		if (document.supinfo.supplied_reason.options[4].selected == true) {
			document.supinfo.sup_otherdamage.disabled = false;
			document.getElementById('sup_otherdamage').style.backgroundColor = "white";
		} else {
			document.supinfo.sup_otherdamage.disabled = true;
			document.getElementById('sup_otherdamage').style.backgroundColor = "#CCCCCC";
		}
	}

	function checkstatus_supplied_agent() {
		if (document.supinfo.supplied_agent.options[3].selected == true) {
			document.supinfo.sup_agent_other.disabled = false;
			document.getElementById('sup_agent_other').style.backgroundColor = "white";
		} else {
			document.supinfo.sup_agent_other.disabled = true;
			document.getElementById('sup_agent_other').style.backgroundColor = "#CCCCCC";
		}
	}

	function setstatus_supplied_source() {
		checkstatus_supplied_source();
		checkstatus_supplied_reason();
		checkstatus_supplied_agent();
	}
</script>
</html>